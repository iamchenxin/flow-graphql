{"version":3,"sources":["error/syntaxError.js"],"names":[],"mappings":";;;;;QAkBgB;;AARhB;;AAEA;;;;;;;;;;;;;;;;AAMO,SAAS,WAAT,CACL,MADK,EAEL,QAFK,EAGL,WAHK,EAIS;AACd,MAAM,WAAW,2BAAY,MAAZ,EAAoB,QAApB,CAAX,CADQ;AAEd,MAAM,QAAQ,+BACZ,kBAAgB,OAAO,IAAP,UAAgB,SAAS,IAAT,SAAiB,SAAS,MAAT,OAAjD,GACA,WADA,GACc,MADd,GACuB,0BAA0B,MAA1B,EAAkC,QAAlC,CADvB,EAEA,SAHY,EAIZ,MAJY,EAKZ,CAAE,QAAF,CALY,CAAR,CAFQ;AASd,SAAO,KAAP,CATc;CAJT;;;;;;AAoBP,SAAS,yBAAT,CAAmC,MAAnC,EAA2C,QAA3C,EAAqD;AACnD,MAAM,OAAO,SAAS,IAAT,CADsC;AAEnD,MAAM,cAAc,CAAC,OAAO,CAAP,CAAD,CAAW,QAAX,EAAd,CAF6C;AAGnD,MAAM,UAAU,KAAK,QAAL,EAAV,CAH6C;AAInD,MAAM,cAAc,CAAC,OAAO,CAAP,CAAD,CAAW,QAAX,EAAd,CAJ6C;AAKnD,MAAM,SAAS,YAAY,MAAZ,CALoC;AAMnD,MAAM,QAAQ,OAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAR,CAN6C;AAOnD,SACE,CAAC,QAAQ,CAAR,GACC,KAAK,MAAL,EAAa,WAAb,IAA4B,IAA5B,GAAmC,MAAM,OAAO,CAAP,CAAzC,GAAqD,IAArD,GAA4D,EAD7D,CAAD,GAEA,KAAK,MAAL,EAAa,OAAb,CAFA,GAEwB,IAFxB,GAE+B,MAAM,OAAO,CAAP,CAFrC,GAEiD,IAFjD,GAGA,MAAM,IAAI,MAAJ,GAAa,SAAS,MAAT,CAAnB,CAAoC,IAApC,CAAyC,GAAzC,CAHA,GAGgD,KAHhD,IAIC,OAAO,MAAM,MAAN,GACN,KAAK,MAAL,EAAa,WAAb,IAA4B,IAA5B,GAAmC,MAAM,IAAN,CAAnC,GAAiD,IAAjD,GAAwD,EADzD,CAJD,CARiD;CAArD;;AAiBA,SAAS,IAAT,CAAc,GAAd,EAAmB,GAAnB,EAAwB;AACtB,SAAO,MAAM,MAAM,IAAI,MAAJ,GAAa,CAAnB,CAAN,CAA4B,IAA5B,CAAiC,GAAjC,IAAwC,GAAxC,CADe;CAAxB","file":"error/syntaxError.js","sourcesContent":["/* @flow */\n/**\n *  Copyright (c) 2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport { getLocation } from '../language/location';\nimport type { Source } from '../language/source';\nimport { GraphQLError } from './GraphQLError';\n\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\nexport function syntaxError(\n  source: Source,\n  position: number,\n  description: string\n): GraphQLError {\n  const location = getLocation(source, position);\n  const error = new GraphQLError(\n    `Syntax Error ${source.name} (${location.line}:${location.column}) ` +\n    description + '\\n\\n' + highlightSourceAtLocation(source, location),\n    undefined,\n    source,\n    [ position ]\n  );\n  return error;\n}\n\n/**\n * Render a helpful description of the location of the error in the GraphQL\n * Source document.\n */\nfunction highlightSourceAtLocation(source, location) {\n  const line = location.line;\n  const prevLineNum = (line - 1).toString();\n  const lineNum = line.toString();\n  const nextLineNum = (line + 1).toString();\n  const padLen = nextLineNum.length;\n  const lines = source.body.split(/\\r\\n|[\\n\\r]/g);\n  return (\n    (line >= 2 ?\n      lpad(padLen, prevLineNum) + ': ' + lines[line - 2] + '\\n' : '') +\n    lpad(padLen, lineNum) + ': ' + lines[line - 1] + '\\n' +\n    Array(2 + padLen + location.column).join(' ') + '^\\n' +\n    (line < lines.length ?\n      lpad(padLen, nextLineNum) + ': ' + lines[line] + '\\n' : '')\n  );\n}\n\nfunction lpad(len, str) {\n  return Array(len - str.length + 1).join(' ') + str;\n}\n"],"sourceRoot":"/home/iamchenxin/project/fork/graphql-js/src"}