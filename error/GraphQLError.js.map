{"version":3,"sources":["error/GraphQLError.js"],"names":[],"mappings":";;;;;;;AAUA;;;;;;;;;;;;;;;;IAKa;;;AAUX,wBACE,OADF;;AAGE,OAHF,YAIE,KAJF,EAKE,MALF,EAME,SANF,EAOE;;;gGACM,UADN;;AAEA,UAAK,OAAL,GAAe,OAAf,CAFA;;AAIA,WAAO,cAAP,QAA4B,OAA5B,EAAqC,EAAE,OAAO,SAAS,OAAT,EAA9C,EAJA;AAKA,WAAO,cAAP,QAA4B,OAA5B,EAAqC,EAAE,OAAO,KAAP,EAAvC;;;AALA,UAQA,CAAO,cAAP,QAA4B,QAA5B,EAAuC;AACrC,0BAAM;AACJ,YAAI,MAAJ,EAAY;AACV,iBAAO,MAAP,CADU;SAAZ;AAGA,YAAI,SAAS,MAAM,MAAN,GAAe,CAAf,EAAkB;AAC7B,cAAM,OAAO,MAAM,CAAN,CAAP,CADuB;AAE7B,iBAAO,QAAQ,KAAK,GAAL,IAAY,KAAK,GAAL,CAAS,MAAT,CAFE;SAA/B;OALmC;KAAvC,EARA;;AAoBA,WAAO,cAAP,QAA4B,WAA5B,EAA0C;AACxC,0BAAM;AACJ,YAAI,SAAJ,EAAe;AACb,iBAAO,SAAP,CADa;SAAf;AAGA,YAAI,KAAJ,EAAW;AACT,cAAM,gBAAgB,MAAM,GAAN,CAAU;mBAAQ,KAAK,GAAL,IAAY,KAAK,GAAL,CAAS,KAAT;WAApB,CAA1B,CADG;AAET,cAAI,cAAc,IAAd,CAAmB;mBAAK;WAAL,CAAvB,EAAgC;AAC9B,mBAAO,aAAP,CAD8B;WAAhC;SAFF;OALsC;KAA1C,EApBA;;AAkCA,WAAO,cAAP,QAA4B,WAA5B,EAA0C;AACxC,0BAAM;;;AACJ,YAAI,KAAK,SAAL,IAAkB,KAAK,MAAL,EAAa;AACjC,iBAAO,KAAK,SAAL,CAAe,GAAf,CAAmB;mBAAO,2BAAY,OAAK,MAAL,EAAa,GAAzB;WAAP,CAA1B,CADiC;SAAnC;OAFsC;KAA1C,EAlCA;;GAPF;;;EAVgC","file":"error/GraphQLError.js","sourcesContent":["/* @flow */\n/**\n *  Copyright (c) 2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport { getLocation } from '../language';\nimport type { Node } from '../language/ast';\nimport type { Source } from '../language/source';\n\n\nexport class GraphQLError extends Error {\n  message: string;\n  stack: string;\n  nodes: ?Array<Node>;\n  source: Source;\n  positions: Array<number>;\n  locations: any;\n  path: Array<string | number>;\n  originalError: ?Error;\n\n  constructor(\n    message: string,\n    // A flow bug keeps us from declaring nodes as an array of Node\n    nodes?: Array<any/* Node */>,\n    stack?: ?string,\n    source?: Source,\n    positions?: Array<number>\n  ) {\n    super(message);\n    this.message = message;\n\n    Object.defineProperty(this, 'stack', { value: stack || message });\n    Object.defineProperty(this, 'nodes', { value: nodes });\n\n    // Note: flow does not yet know about Object.defineProperty with `get`.\n    Object.defineProperty(this, 'source', ({\n      get() {\n        if (source) {\n          return source;\n        }\n        if (nodes && nodes.length > 0) {\n          const node = nodes[0];\n          return node && node.loc && node.loc.source;\n        }\n      }\n    }: any));\n\n    Object.defineProperty(this, 'positions', ({\n      get() {\n        if (positions) {\n          return positions;\n        }\n        if (nodes) {\n          const nodePositions = nodes.map(node => node.loc && node.loc.start);\n          if (nodePositions.some(p => p)) {\n            return nodePositions;\n          }\n        }\n      }\n    }: any));\n\n    Object.defineProperty(this, 'locations', ({\n      get() {\n        if (this.positions && this.source) {\n          return this.positions.map(pos => getLocation(this.source, pos));\n        }\n      }\n    }: any));\n  }\n}\n"],"sourceRoot":"/home/iamchenxin/project/fork/graphql-js/src"}