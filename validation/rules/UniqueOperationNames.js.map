{"version":3,"sources":["validation/rules/UniqueOperationNames.js"],"names":[],"mappings":";;;;;QAcgB;QASA;;AAZhB;;;;;;;;;;;AAGO,SAAS,6BAAT,CAAuC,aAAvC,EAAsE;AAC3E,qDAAiD,oBAAjD,CAD2E;CAAtE;;;;;;;AASA,SAAS,oBAAT,CAA8B,OAA9B,EAA+D;AACpE,MAAM,sBAAsB,OAAO,MAAP,CAAc,IAAd,CAAtB,CAD8D;AAEpE,SAAO;AACL,sDAAoB,MAAM;AACxB,UAAM,gBAAgB,KAAK,IAAL,CADE;AAExB,UAAI,aAAJ,EAAmB;AACjB,YAAI,oBAAoB,cAAc,KAAd,CAAxB,EAA8C;AAC5C,kBAAQ,WAAR,CAAoB,wBAClB,8BAA8B,cAAc,KAAd,CADZ,EAElB,CAAE,oBAAoB,cAAc,KAAd,CAAtB,EAA4C,aAA5C,CAFkB,CAApB,EAD4C;SAA9C,MAKO;AACL,8BAAoB,cAAc,KAAd,CAApB,GAA2C,aAA3C,CADK;SALP;OADF;AAUA,aAAO,KAAP,CAZwB;KADrB;;AAeL,wBAAoB;aAAM;KAAN;GAftB,CAFoE;CAA/D","file":"validation/rules/UniqueOperationNames.js","sourcesContent":["/* @flow */\n/**\n *  Copyright (c) 2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport type { ValidationContext } from '../index';\nimport { GraphQLError } from '../../error';\n\n\nexport function duplicateOperationNameMessage(operationName: string): string {\n  return `There can only be one operation named \"${operationName}\".`;\n}\n\n/**\n * Unique operation names\n *\n * A GraphQL document is only valid if all defined operations have unique names.\n */\nexport function UniqueOperationNames(context: ValidationContext): any {\n  const knownOperationNames = Object.create(null);\n  return {\n    OperationDefinition(node) {\n      const operationName = node.name;\n      if (operationName) {\n        if (knownOperationNames[operationName.value]) {\n          context.reportError(new GraphQLError(\n            duplicateOperationNameMessage(operationName.value),\n            [ knownOperationNames[operationName.value], operationName ]\n          ));\n        } else {\n          knownOperationNames[operationName.value] = operationName;\n        }\n      }\n      return false;\n    },\n    FragmentDefinition: () => false,\n  };\n}\n"],"sourceRoot":"/home/iamchenxin/project/fork/graphql-js/src"}