{"version":3,"sources":["validation/rules/UniqueVariableNames.js"],"names":[],"mappings":";;;;;;;;;;QAegB;QASA;;AAZhB;;;;AAGO,SAAS,wBAAT,CAAkC,YAAlC,EAAgE;AACrE,oDAAgD,mBAAhD,CADqE;CAAhE;;;;;;;;;;;;;;;;;AASA,SAAS,mBAAT,CAA6B,OAA7B,EAA8D;AACnE,MAAI,qBAAqB,sBAAc,IAAd,CAArB,CAD+D;AAEnE,SAAO;AACL,wDAAsB;AACpB,2BAAqB,sBAAc,IAAd,CAArB,CADoB;KADjB;AAIL,oDAAmB,MAA0B;AAC3C,UAAM,eAAe,KAAK,QAAL,CAAc,IAAd,CAAmB,KAAnB,CADsB;AAE3C,UAAI,mBAAmB,YAAnB,CAAJ,EAAsC;AACpC,gBAAQ,WAAR,CAAoB,wBAClB,yBAAyB,YAAzB,CADkB,EAElB,CAAE,mBAAmB,YAAnB,CAAF,EAAoC,KAAK,QAAL,CAAc,IAAd,CAFlB,CAApB,EADoC;OAAtC,MAKO;AACL,2BAAmB,YAAnB,IAAmC,KAAK,QAAL,CAAc,IAAd,CAD9B;OALP;KANG;GAAP,CAFmE;CAA9D","file":"validation/rules/UniqueVariableNames.js","sourcesContent":["/* @flow */\n/**\n *  Copyright (c) 2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport type { ValidationContext } from '../index';\nimport type { VariableDefinition } from '../../language/ast';\nimport { GraphQLError } from '../../error';\n\n\nexport function duplicateVariableMessage(variableName: string): string {\n  return `There can be only one variable named \"${variableName}\".`;\n}\n\n/**\n * Unique variable names\n *\n * A GraphQL operation is only valid if all its variables are uniquely named.\n */\nexport function UniqueVariableNames(context: ValidationContext): any {\n  let knownVariableNames = Object.create(null);\n  return {\n    OperationDefinition() {\n      knownVariableNames = Object.create(null);\n    },\n    VariableDefinition(node: VariableDefinition) {\n      const variableName = node.variable.name.value;\n      if (knownVariableNames[variableName]) {\n        context.reportError(new GraphQLError(\n          duplicateVariableMessage(variableName),\n          [ knownVariableNames[variableName], node.variable.name ]\n        ));\n      } else {\n        knownVariableNames[variableName] = node.variable.name;\n      }\n    }\n  };\n}\n"],"sourceRoot":"/home/iamchenxin/project/fork/graphql-js/src"}