{"version":3,"sources":["validation/rules/UniqueFragmentNames.js"],"names":[],"mappings":";;;;;QAcgB;QASA;;AAZhB;;;;;;;;;;;AAGO,SAAS,4BAAT,CAAsC,QAAtC,EAAgE;AACrE,oDAAgD,eAAhD,CADqE;CAAhE;;;;;;;AASA,SAAS,mBAAT,CAA6B,OAA7B,EAA8D;AACnE,MAAM,qBAAqB,OAAO,MAAP,CAAc,IAAd,CAArB,CAD6D;AAEnE,SAAO;AACL,yBAAqB;aAAM;KAAN;AACrB,oDAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,IAAL,CAAU,KAAV,CADE;AAEvB,UAAI,mBAAmB,YAAnB,CAAJ,EAAsC;AACpC,gBAAQ,WAAR,CAAoB,wBAClB,6BAA6B,YAA7B,CADkB,EAElB,CAAE,mBAAmB,YAAnB,CAAF,EAAoC,KAAK,IAAL,CAFlB,CAApB,EADoC;OAAtC,MAKO;AACL,2BAAmB,YAAnB,IAAmC,KAAK,IAAL,CAD9B;OALP;AAQA,aAAO,KAAP,CAVuB;KAFpB;GAAP,CAFmE;CAA9D","file":"validation/rules/UniqueFragmentNames.js","sourcesContent":["/* @flow */\n/**\n *  Copyright (c) 2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport type { ValidationContext } from '../index';\nimport { GraphQLError } from '../../error';\n\n\nexport function duplicateFragmentNameMessage(fragName: string): string {\n  return `There can only be one fragment named \"${fragName}\".`;\n}\n\n/**\n * Unique fragment names\n *\n * A GraphQL document is only valid if all defined fragments have unique names.\n */\nexport function UniqueFragmentNames(context: ValidationContext): any {\n  const knownFragmentNames = Object.create(null);\n  return {\n    OperationDefinition: () => false,\n    FragmentDefinition(node) {\n      const fragmentName = node.name.value;\n      if (knownFragmentNames[fragmentName]) {\n        context.reportError(new GraphQLError(\n          duplicateFragmentNameMessage(fragmentName),\n          [ knownFragmentNames[fragmentName], node.name ]\n        ));\n      } else {\n        knownFragmentNames[fragmentName] = node.name;\n      }\n      return false;\n    }\n  };\n}\n"],"sourceRoot":"/home/iamchenxin/project/fork/graphql-js/src"}