{"version":3,"sources":["validation/rules/UniqueArgumentNames.js"],"names":[],"mappings":";;;;;;;;;;QAcgB;QAUA;;AAbhB;;;;;;;;;;;;;AAGO,SAAS,mBAAT,CAA6B,OAA7B,EAAsD;AAC3D,oDAAgD,cAAhD,CAD2D;CAAtD;;;;;;;;AAUA,SAAS,mBAAT,CAA6B,OAA7B,EAA8D;AACnE,MAAI,gBAAgB,sBAAc,IAAd,CAAhB,CAD+D;AAEnE,SAAO;AACL,4BAAQ;AACN,sBAAgB,sBAAc,IAAd,CAAhB,CADM;KADH;AAIL,oCAAY;AACV,sBAAgB,sBAAc,IAAd,CAAhB,CADU;KAJP;AAOL,gCAAS,MAAM;AACb,UAAM,UAAU,KAAK,IAAL,CAAU,KAAV,CADH;AAEb,UAAI,cAAc,OAAd,CAAJ,EAA4B;AAC1B,gBAAQ,WAAR,CAAoB,wBAClB,oBAAoB,OAApB,CADkB,EAElB,CAAE,cAAc,OAAd,CAAF,EAA0B,KAAK,IAAL,CAFR,CAApB,EAD0B;OAA5B,MAKO;AACL,sBAAc,OAAd,IAAyB,KAAK,IAAL,CADpB;OALP;AAQA,aAAO,KAAP,CAVa;KAPV;GAAP,CAFmE;CAA9D","file":"validation/rules/UniqueArgumentNames.js","sourcesContent":["/* @flow */\n/**\n *  Copyright (c) 2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport type { ValidationContext } from '../index';\nimport { GraphQLError } from '../../error';\n\n\nexport function duplicateArgMessage(argName: string): string {\n  return `There can be only one argument named \"${argName}\".`;\n}\n\n/**\n * Unique argument names\n *\n * A GraphQL field or directive is only valid if all supplied arguments are\n * uniquely named.\n */\nexport function UniqueArgumentNames(context: ValidationContext): any {\n  let knownArgNames = Object.create(null);\n  return {\n    Field() {\n      knownArgNames = Object.create(null);\n    },\n    Directive() {\n      knownArgNames = Object.create(null);\n    },\n    Argument(node) {\n      const argName = node.name.value;\n      if (knownArgNames[argName]) {\n        context.reportError(new GraphQLError(\n          duplicateArgMessage(argName),\n          [ knownArgNames[argName], node.name ]\n        ));\n      } else {\n        knownArgNames[argName] = node.name;\n      }\n      return false;\n    }\n  };\n}\n"],"sourceRoot":"/home/iamchenxin/project/fork/graphql-js/src"}